<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>社会体育館 行事予定カレンダー</title>

<style>
  body {
    font-family: system-ui, sans-serif;
    margin: 0;
    padding: 0;
    background: #f7f7f7;
  }

  h1 {
    text-align: center;
    padding: 16px;
    margin: 0;
    background: #4a6fa5;
    color: white;
    font-size: 20px;
  }

  .tabs {
    display: flex;
    gap: 8px;
    padding: 12px;
    overflow-x: auto;
    background: white;
    border-bottom: 1px solid #ddd;
  }

  .tab {
    padding: 8px 14px;
    border-radius: 20px;
    background: #e0e0e0;
    cursor: pointer;
    white-space: nowrap;
    font-size: 14px;
    border: 1px solid #ccc;
    transition: 0.2s;
  }

  .tab:hover {
    background: #d5d5d5;
  }

  .tab.active {
    background: #4a6fa5;
    color: white;
    border-color: #4a6fa5;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
    background: white;
    table-layout: fixed;
  }

  /* PC 列幅 */
  th:nth-child(1), td:nth-child(1) { width: 10%; }
  th:nth-child(2), td:nth-child(2) { width: 30%; }
  th:nth-child(3), td:nth-child(3) { width: 60%; }

  th, td {
    border: 1px solid #ddd;
    padding: 4px 6px;
    font-size: 12px;
    height: 48px;
    line-height: 1.2;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  th {
    background: #f0f0f0;
  }

  td {
    overflow: visible;
  }

  .event-box {
     overflow: visible;
  }

  .saturday { background: #e3f2fd; }
  .sunday   { background: #ffebee; }
  .holiday  { background: #fff8e1; }

  tr.today-row {
    outline: 2px solid #ff9800;
    outline-offset: -2px;
    background: #fff3e0 !important;
  }

  .date-cell {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;   /* 横中央 */
    text-align: center;    /* テキスト中央 */
  }

  .date-top {
    font-size: 14px;   /* 日付を大きく */
    font-weight: 600;
  }

  .date-bottom {
    font-size: 8px;
    color: #d32f2f;
    margin-top: 2px;
  }

  /* 曜日バッジ */
  .weekday-badge {
    padding: 1px 4px;
    margin-left: 3px;
    border-radius: 8px;
    font-size: 9px;
    color: #fff;
  }

  /* 日曜（赤） */
  .w-sun { background: #e57373; }

  /* 土曜（青） */
  .w-sat { background: #7986cb; }

  /* 平日（月〜金）は紫 */
  .w-mon,
  .w-tue,
  .w-wed,
  .w-thu,
  .w-fri {
    background: #8e24aa;
  }

  /* 祝祭日はオレンジ */
  .holiday .weekday-badge {
    background: #ff9800 !important;
  }

  .event-box {
    display: flex;
    flex-wrap: wrap;
    gap: 2px 4px;
  }

  .event {
    padding: 2px 6px;
    border-radius: 6px;
    color: #fff;
    font-size: 11px;
    line-height: 1.2;
    max-width: 100%;
    position: relative;
    opacity: 0.85;
    overflow: visible;
  }

  /* 時刻部分（PC＋スマホ共通） */
  .event time {
    color: #ffeb3b;   /* 明るい黄色 */
    font-weight: 700;
  }

  .color-badminton { background: #4caf50; }
  .color-tabletennis { background: #2196f3; }
  .color-volleyball { background: #ff9800; }
  .color-kids { background: #9c27b0; }
  .color-default { background: #607d8b; }

  /* ★ スマホ最適化（最新版） */
  @media (max-width: 600px) {

    h1 {
      font-size: 17px;
      padding: 10px;
    }

    .tab {
      font-size: 13px;
      padding: 6px 10px;
    }

    th, td {
      font-size: 11px;
      padding: 2px 3px;
      height: 34px;
      line-height: 1.15;
    }

    th:nth-child(1), td:nth-child(1) { width: 15%; }
    th:nth-child(2), td:nth-child(2) { width: 35%; }
    th:nth-child(3), td:nth-child(3) { width: 50%; }

    .event {
      font-size: 11.5px;
      font-weight: 400;   /* ← 太字にしない */
      max-width: 100%;
      line-height: 1.2;
      padding: 2px 6px;
      border-radius: 10px;
      opacity: 0.70;
    }

    .event time {
      color: #ffeb3b;
      font-weight: 700;
    }

    .event-box {
      gap: 1px 3px;
    }

    .date-cell {
      align-items: center;
      text-align: center;
    }

    .date-top {
      font-size: 15px;  /* スマホではさらに少し大きく */
    }
  }

@media print {

  /* A3 縦向き・余白少なめ */
  @page {
    size: A3 portrait;
    margin: 10mm;
  }

  /* タブは印刷しない */
  .tabs {
    display: none !important;
  }

  /* タイトルは印刷する */
  h1 {
    display: block !important;
    margin-bottom: 6px;
  }

  /* 列幅を画面と同じ比率に統一 */
  th:nth-child(1), td:nth-child(1) { width: 15% !important; }
  th:nth-child(2), td:nth-child(2) { width: 35% !important; }
  th:nth-child(3), td:nth-child(3) { width: 50% !important; }

  /* 印刷用テーブル最適化 */
  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 12px;
    table-layout: fixed;
  }

  th, td {
    border: 1px solid #000;
    padding: 3px 4px;
    height: 31px;     /* ← ★ A3縦で32行が1ページに収まる最適値 */
    line-height: 1.15;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* 日付セルの中央揃え */
  .date-cell {
    align-items: center;
    text-align: center;
  }

  .date-top {
    font-size: 13px;
    font-weight: 600;
  }

  .date-bottom {
    font-size: 8px;
  }

  /* イベントの色を完全に消す（白背景・黒文字） */
  .event {
    background: #fff !important;
    color: #000 !important;
    border-radius: 0;
    padding: 2px 4px;
    opacity: 1 !important;
  }

  /* 時刻の黄色も黒に統一 */
  .event time {
    color: #000 !important;
    font-weight: 700;
  }

  /* 行の背景色も白に統一 */
  .saturday,
  .sunday,
  .holiday,
  tr.today-row {
    background: #fff !important;
  }

  /* 曜日バッジも白黒化 */
  .weekday-badge {
    background: #fff !important;
    color: #000 !important;
    border: 1px solid #000;
  }

  /* 背景色を印刷する設定（ブラウザ依存） */
  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

</style>
</head>

<body>

<h1>社会体育館 行事予定カレンダー</h1>

<div class="tabs" id="monthTabs"></div>

<div id="calendarContainer">
  <div class="loading">読み込み中...</div>
</div>

<script>
const CALENDAR_ID =
  "c15c3451e52f787202dca97fbd0e35c908d5972611deb534d78c8f6b46262895@group.calendar.google.com";

const HOLIDAY_CALENDAR_ID =
  "japanese__ja@holiday.calendar.google.com";

const API_KEY = "AIzaSyDZwpeUR_Vx_0D88WlRfSqJsRsf4WE_oyw";

const WEEKDAYS = ["日", "月", "火", "水", "木", "金", "土"];

const today = new Date();
const todayStr = today.toISOString().split("T")[0];

const months = [];
for (let i = -1; i <= 3; i++) {
  const d = new Date(today.getFullYear(), today.getMonth() + i, 1);
  months.push({
    label: `${d.getFullYear()}年${d.getMonth() + 1}月`,
    year: d.getFullYear(),
    month: d.getMonth()
  });
}

const tabArea = document.getElementById("monthTabs");
months.forEach((m, idx) => {
  const tab = document.createElement("div");
  tab.className = "tab" + (idx === 1 ? " active" : "");
  tab.textContent = m.label;
  tab.onclick = () => {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    tab.classList.add("active");
    loadMonth(m.year, m.month);
  };
  tabArea.appendChild(tab);
});

async function fetchEvents(calendarId, year, month) {
  const start = new Date(year, month, 1).toISOString();
  const end = new Date(year, month + 1, 1).toISOString();

  const url =
    `https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events` +
    `?key=${API_KEY}&timeMin=${start}&timeMax=${end}` +
    `&singleEvents=true&orderBy=startTime`;

  const res = await fetch(url);
  const data = await res.json();
  return data.items || [];
}

function classifyTime(ev) {
  if (!ev.start.dateTime) return "その他";
  const hour = new Date(ev.start.dateTime).getHours();
  if (hour < 12) return "午前";
  return "午後";  /* 夜間も午後に統合 */
}

function detectColor(title) {
  if (title.includes("バド")) return "color-badminton";
  if (title.includes("卓球")) return "color-tabletennis";
  if (title.includes("バレー")) return "color-volleyball";
  if (title.includes("キッズ")) return "color-kids";
  return "color-default";
}

function renderTable(events, holidayMap, year, month) {
  const container = document.getElementById("calendarContainer");
  container.innerHTML = "";

  const table = document.createElement("table");
  table.innerHTML = `
    <tr>
      <th>日付</th>
      <th>午前</th>
      <th>午後</th>
    </tr>
  `;

  const daysInMonth = new Date(year, month + 1, 0).getDate();

  for (let day = 1; day <= daysInMonth; day++) {
    const dateObj = new Date(year, month, day);
    const weekday = WEEKDAYS[dateObj.getDay()];
    const dateStr =
      `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;

    const dayEvents = events.filter(ev => {
      const d = ev.start.date || ev.start.dateTime.split("T")[0];
      return d === dateStr;
    });

    const slots = { "午前": [], "午後": [] };

    dayEvents.forEach(ev => {
      const time = classifyTime(ev);
      const color = detectColor(ev.summary || "");
      const title = ev.summary || "";

      const start = ev.start.dateTime ? new Date(ev.start.dateTime) : null;
      const end   = ev.end.dateTime   ? new Date(ev.end.dateTime)   : null;

      const format = d =>
        String(d.getHours()).padStart(2, "0") + ":" +
        String(d.getMinutes()).padStart(2, "0");

      let timeLabel = "";
      if (start && end) {
        timeLabel = `${format(start)}–${format(end)}`;
      }

const displayText = timeLabel
  ? `<time>${timeLabel}</time> ${title}`
  : title;

// ★ ホバー用は time を含めない
const hoverText = timeLabel
  ? `${timeLabel} ${title}`
  : title;

slots[time].push({
  start: start,
  html: `<div class="event ${color}" data-fulltext="${hoverText}">${displayText}</div>`
});
    });

    slots["午前"].sort((a, b) => a.start - b.start);
    slots["午後"].sort((a, b) => a.start - b.start);

    const weekdayClass = {
      "日": "w-sun",
      "月": "w-mon",
      "火": "w-tue",
      "水": "w-wed",
      "木": "w-thu",
      "金": "w-fri",
      "土": "w-sat"
    }[weekday];

    const dateCell = `
      <div class="date-cell">
        <div class="date-top">
          ${day}
          <span class="weekday-badge ${weekdayClass}">${weekday}</span>
        </div>
        <div class="date-bottom">${holidayMap[dateStr] || ""}</div>
      </div>
    `;

    let rowClass = "";
    if (holidayMap[dateStr]) rowClass = "holiday";
    else if (weekday === "日") rowClass = "sunday";
    else if (weekday === "土") rowClass = "saturday";

    const isToday = (dateStr === todayStr);

    const tr = document.createElement("tr");
    tr.className = rowClass + (isToday ? " today-row" : "");
    tr.innerHTML = `
      <td>${dateCell}</td>
      <td><div class="event-box">${slots["午前"].map(e => e.html).join("")}</div></td>
      <td><div class="event-box">${slots["午後"].map(e => e.html).join("")}</div></td>
    `;
    table.appendChild(tr);
  }

// ★ クリックで詳細を開く処理
table.addEventListener("click", function(e) {
  const eventDiv = e.target.closest(".event");
  if (!eventDiv) return;

  const text = eventDiv.getAttribute("data-fulltext") || eventDiv.textContent;

  const modal = document.getElementById("eventModal");
  modal.textContent = text;
  modal.style.display = "block";

  // 3秒後に自動で閉じる
  setTimeout(() => {
    modal.style.display = "none";
  }, 3000);
});

  container.appendChild(table);
}

async function loadMonth(year, month) {
  const container = document.getElementById("calendarContainer");
  container.innerHTML = `<div class="loading">読み込み中...</div>`;

  const events = await fetchEvents(CALENDAR_ID, year, month);
  const holidayEvents = await fetchEvents(HOLIDAY_CALENDAR_ID, year, month);

  const holidayMap = {};
  holidayEvents.forEach(ev => {
    const date = ev.start.date || ev.start.dateTime.split("T")[0];
    holidayMap[date] = ev.summary;
  });

  renderTable(events, holidayMap, year, month);
}

loadMonth(today.getFullYear(), today.getMonth());
</script>

<!-- クリックで開く詳細ポップアップ -->
<div id="eventModal" style="
  display:none;
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%, -50%);
  background:#333;
  color:#fff;
  padding:12px 16px;
  border-radius:8px;
  font-size:14px;
  z-index:9999;
  max-width:80%;
  white-space:pre-wrap;
"></div>

</body>
</html>
    background: #e0e0e0;
    cursor: pointer;
    white-space: nowrap;
    font-size: 14px;
    border: 1px solid #ccc;
    transition: 0.2s;
  }

  .tab:hover {
    background: #d5d5d5;
  }

  .tab.active {
    background: #4a6fa5;
    color: white;
    border-color: #4a6fa5;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
    background: white;
    table-layout: fixed;
  }

  /* PC 列幅 */
  th:nth-child(1), td:nth-child(1) { width: 10%; }
  th:nth-child(2), td:nth-child(2) { width: 30%; }
  th:nth-child(3), td:nth-child(3) { width: 60%; }

  th, td {
    border: 1px solid #ddd;
    padding: 4px 6px;
    font-size: 12px;
    height: 48px;
    line-height: 1.2;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  th {
    background: #f0f0f0;
  }

  td {
    overflow: visible;
  }

  .event-box {
     overflow: visible;
  }

  .saturday { background: #e3f2fd; }
  .sunday   { background: #ffebee; }
  .holiday  { background: #fff8e1; }

  tr.today-row {
    outline: 2px solid #ff9800;
    outline-offset: -2px;
    background: #fff3e0 !important;
  }

  .date-cell {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;   /* 横中央 */
    text-align: center;    /* テキスト中央 */
  }

  .date-top {
    font-size: 14px;   /* 日付を大きく */
    font-weight: 600;
  }

  .date-bottom {
    font-size: 8px;
    color: #d32f2f;
    margin-top: 2px;
  }

  /* 曜日バッジ */
  .weekday-badge {
    padding: 1px 4px;
    margin-left: 3px;
    border-radius: 8px;
    font-size: 9px;
    color: #fff;
  }

  /* 日曜（赤） */
  .w-sun { background: #e57373; }

  /* 土曜（青） */
  .w-sat { background: #7986cb; }

  /* 平日（月〜金）は紫 */
  .w-mon,
  .w-tue,
  .w-wed,
  .w-thu,
  .w-fri {
    background: #8e24aa;
  }

  /* 祝祭日はオレンジ */
  .holiday .weekday-badge {
    background: #ff9800 !important;
  }

  .event-box {
    display: flex;
    flex-wrap: wrap;
    gap: 2px 4px;
  }

  .event {
    padding: 2px 6px;
    border-radius: 6px;
    color: #fff;
    font-size: 11px;
    line-height: 1.2;
    max-width: 100%;
    position: relative;
    opacity: 0.85;
    overflow: visible;
  }

  /* 時刻部分（PC＋スマホ共通） */
  .event time {
    color: #ffeb3b;   /* 明るい黄色 */
    font-weight: 700;
  }

  .color-badminton { background: #4caf50; }
  .color-tabletennis { background: #2196f3; }
  .color-volleyball { background: #ff9800; }
  .color-kids { background: #9c27b0; }
  .color-default { background: #607d8b; }

  /* ★ スマホ最適化（最新版） */
  @media (max-width: 600px) {

    h1 {
      font-size: 17px;
      padding: 10px;
    }

    .tab {
      font-size: 13px;
      padding: 6px 10px;
    }

    th, td {
      font-size: 11px;
      padding: 2px 3px;
      height: 34px;
      line-height: 1.15;
    }

    th:nth-child(1), td:nth-child(1) { width: 15%; }
    th:nth-child(2), td:nth-child(2) { width: 30%; }
    th:nth-child(3), td:nth-child(3) { width: 55%; }

    .event {
      font-size: 11.5px;
      font-weight: 400;   /* ← 太字にしない */
      max-width: 100%;
      line-height: 1.2;
      padding: 2px 6px;
      border-radius: 10px;
      opacity: 0.70;
    }

    .event time {
      color: #ffeb3b;
      font-weight: 700;
    }

    .event-box {
      gap: 1px 3px;
    }

    .date-cell {
      align-items: center;
      text-align: center;
    }

    .date-top {
      font-size: 15px;  /* スマホではさらに少し大きく */
    }
  }

  @media print {
    @page { size: A4 landscape; margin: 10mm; }
    h1, .tabs { display: none; }
    table { font-size: 11px; border: 1px solid #000; }
    th, td { border: 1px solid #000; height: 32px; }
    tr.today-row { background: #fff3c4 !important; }
  }
</style>
</head>

<body>

<h1>社会体育館 行事予定カレンダー</h1>

<div class="tabs" id="monthTabs"></div>

<div id="calendarContainer">
  <div class="loading">読み込み中...</div>
</div>

<script>
const CALENDAR_ID =
  "c15c3451e52f787202dca97fbd0e35c908d5972611deb534d78c8f6b46262895@group.calendar.google.com";

const HOLIDAY_CALENDAR_ID =
  "japanese__ja@holiday.calendar.google.com";

const API_KEY = "AIzaSyDZwpeUR_Vx_0D88WlRfSqJsRsf4WE_oyw";

const WEEKDAYS = ["日", "月", "火", "水", "木", "金", "土"];

const today = new Date();
const todayStr = today.toISOString().split("T")[0];

const months = [];
for (let i = -1; i <= 3; i++) {
  const d = new Date(today.getFullYear(), today.getMonth() + i, 1);
  months.push({
    label: `${d.getFullYear()}年${d.getMonth() + 1}月`,
    year: d.getFullYear(),
    month: d.getMonth()
  });
}

const tabArea = document.getElementById("monthTabs");
months.forEach((m, idx) => {
  const tab = document.createElement("div");
  tab.className = "tab" + (idx === 1 ? " active" : "");
  tab.textContent = m.label;
  tab.onclick = () => {
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
    tab.classList.add("active");
    loadMonth(m.year, m.month);
  };
  tabArea.appendChild(tab);
});

async function fetchEvents(calendarId, year, month) {
  const start = new Date(year, month, 1).toISOString();
  const end = new Date(year, month + 1, 1).toISOString();

  const url =
    `https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events` +
    `?key=${API_KEY}&timeMin=${start}&timeMax=${end}` +
    `&singleEvents=true&orderBy=startTime`;

  const res = await fetch(url);
  const data = await res.json();
  return data.items || [];
}

function classifyTime(ev) {
  if (!ev.start.dateTime) return "その他";
  const hour = new Date(ev.start.dateTime).getHours();
  if (hour < 12) return "午前";
  return "午後";  /* 夜間も午後に統合 */
}

function detectColor(title) {
  if (title.includes("バド")) return "color-badminton";
  if (title.includes("卓球")) return "color-tabletennis";
  if (title.includes("バレー")) return "color-volleyball";
  if (title.includes("キッズ")) return "color-kids";
  return "color-default";
}

function renderTable(events, holidayMap, year, month) {
  const container = document.getElementById("calendarContainer");
  container.innerHTML = "";

  const table = document.createElement("table");
  table.innerHTML = `
    <tr>
      <th>日付</th>
      <th>午前</th>
      <th>午後</th>
    </tr>
  `;

  const daysInMonth = new Date(year, month + 1, 0).getDate();

  for (let day = 1; day <= daysInMonth; day++) {
    const dateObj = new Date(year, month, day);
    const weekday = WEEKDAYS[dateObj.getDay()];
    const dateStr =
      `${year}-${String(month + 1).padStart(2, "0")}-${String(day).padStart(2, "0")}`;

    const dayEvents = events.filter(ev => {
      const d = ev.start.date || ev.start.dateTime.split("T")[0];
      return d === dateStr;
    });

    const slots = { "午前": [], "午後": [] };

    dayEvents.forEach(ev => {
      const time = classifyTime(ev);
      const color = detectColor(ev.summary || "");
      const title = ev.summary || "";

      const start = ev.start.dateTime ? new Date(ev.start.dateTime) : null;
      const end   = ev.end.dateTime   ? new Date(ev.end.dateTime)   : null;

      const format = d =>
        String(d.getHours()).padStart(2, "0") + ":" +
        String(d.getMinutes()).padStart(2, "0");

      let timeLabel = "";
      if (start && end) {
        timeLabel = `${format(start)}–${format(end)}`;
      }

const displayText = timeLabel
  ? `<time>${timeLabel}</time> ${title}`
  : title;

// ★ ホバー用は time を含めない
const hoverText = timeLabel
  ? `${timeLabel} ${title}`
  : title;

slots[time].push({
  start: start,
  html: `<div class="event ${color}" data-fulltext="${hoverText}">${displayText}</div>`
});
    });

    slots["午前"].sort((a, b) => a.start - b.start);
    slots["午後"].sort((a, b) => a.start - b.start);

    const weekdayClass = {
      "日": "w-sun",
      "月": "w-mon",
      "火": "w-tue",
      "水": "w-wed",
      "木": "w-thu",
      "金": "w-fri",
      "土": "w-sat"
    }[weekday];

    const dateCell = `
      <div class="date-cell">
        <div class="date-top">
          ${day}
          <span class="weekday-badge ${weekdayClass}">${weekday}</span>
        </div>
        <div class="date-bottom">${holidayMap[dateStr] || ""}</div>
      </div>
    `;

    let rowClass = "";
    if (holidayMap[dateStr]) rowClass = "holiday";
    else if (weekday === "日") rowClass = "sunday";
    else if (weekday === "土") rowClass = "saturday";

    const isToday = (dateStr === todayStr);

    const tr = document.createElement("tr");
    tr.className = rowClass + (isToday ? " today-row" : "");
    tr.innerHTML = `
      <td>${dateCell}</td>
      <td><div class="event-box">${slots["午前"].map(e => e.html).join("")}</div></td>
      <td><div class="event-box">${slots["午後"].map(e => e.html).join("")}</div></td>
    `;
    table.appendChild(tr);
  }

// ★ クリックで詳細を開く処理
table.addEventListener("click", function(e) {
  const eventDiv = e.target.closest(".event");
  if (!eventDiv) return;

  const text = eventDiv.getAttribute("data-fulltext") || eventDiv.textContent;

  const modal = document.getElementById("eventModal");
  modal.textContent = text;
  modal.style.display = "block";

  // 3秒後に自動で閉じる
  setTimeout(() => {
    modal.style.display = "none";
  }, 3000);
});

  container.appendChild(table);
}

async function loadMonth(year, month) {
  const container = document.getElementById("calendarContainer");
  container.innerHTML = `<div class="loading">読み込み中...</div>`;

  const events = await fetchEvents(CALENDAR_ID, year, month);
  const holidayEvents = await fetchEvents(HOLIDAY_CALENDAR_ID, year, month);

  const holidayMap = {};
  holidayEvents.forEach(ev => {
    const date = ev.start.date || ev.start.dateTime.split("T")[0];
    holidayMap[date] = ev.summary;
  });

  renderTable(events, holidayMap, year, month);
}

loadMonth(today.getFullYear(), today.getMonth());
</script>

<!-- クリックで開く詳細ポップアップ -->
<div id="eventModal" style="
  display:none;
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%, -50%);
  background:#333;
  color:#fff;
  padding:12px 16px;
  border-radius:8px;
  font-size:14px;
  z-index:9999;
  max-width:80%;
  white-space:pre-wrap;
"></div>

</body>
</html>

