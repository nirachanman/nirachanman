<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚µãƒ¼ã‚¯ãƒ«äºˆå®šã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</title>

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">

  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
      line-height: 1.6;
      transition: background 0.5s ease;
    }

    /* èƒŒæ™¯è‰²ï¼ˆæ–½è¨­ã”ã¨ï¼‰ */
    body.bg-gym { background: linear-gradient(135deg, #eef7f1, #d7ead9); }
    body.bg-kouminkan { background: linear-gradient(135deg, #eef3ff, #d6e3fb); }
    body.bg-bekkan { background: linear-gradient(135deg, #fff8ec, #ffe8c7); }
    body.bg-all { background: linear-gradient(135deg, #f2f2f2, #e0e0e0); }

    /* ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆå°ã•ãï¼‰ */
    h2 {
      margin-bottom: 4px;
      font-size: 14px;
      font-weight: 600;
    }

    /* ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ï¼ˆä½™ç™½ã‚’æœ€å°é™ï¼‰ */
    .calendar-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 4px;
      flex-wrap: wrap;
    }

    /* ãƒœã‚¿ãƒ³ï¼ˆé€šå¸¸ï¼‰ */
    .calendar-buttons button {
      padding: 8px 22px;
      border-radius: 9999px;
      border: 2px solid rgba(255,255,255,0.7);
      background: white;
      cursor: pointer;
      font-size: 16px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-width: 160px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      transition: all 0.35s cubic-bezier(.25,.8,.25,1);
      position: relative;
      overflow: visible;
    }

    /* å…‰ã‚‹ãƒªãƒ³ã‚° */
    .calendar-buttons button.active::before {
      content: "";
      position: absolute;
      inset: -5px;
      border-radius: 9999px;
      background: radial-gradient(circle,
        rgba(255,255,255,0.9) 0%,
        rgba(255,255,255,0.4) 40%,
        rgba(255,255,255,0) 70%
      );
      box-shadow: 0 0 16px rgba(255,255,255,0.9);
      opacity: 1;
      transition: opacity 0.4s ease;
      z-index: -1;
    }

    .calendar-buttons button::before { opacity: 0; }

    /* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ */
    .calendar-buttons button.active {
      transform: translateY(-3px) scale(1.06);
      box-shadow: 0 8px 18px rgba(0,0,0,0.25);
      border-color: rgba(255,255,255,1);
      background: rgba(255,255,255,0.98);
    }

    /* æ–½è¨­ã”ã¨ã®è‰² */
    #btn-gym.active { background: #dff3e6; color: #0f6a2c; }
    #btn-kouminkan.active { background: #e3ecff; color: #0f4fb8; }
    #btn-bekkan.active { background: #fff1d6; color: #a56a00; }
    #btn-all.active { background: #f0f0f0; color: #333; }

    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ iframe */
    .calendar-frame {
      width: 100%;
      border: 0;
      display: none;
      height: calc(100dvh - 110px);
    }
    .calendar-frame.active { display: block; }

    /* ğŸ“± ã‚¹ãƒãƒ›ç¸¦å‘ã */
    @media (max-width: 600px) {
      .calendar-buttons {
        overflow-x: auto;
        white-space: nowrap;
        padding-bottom: 4px;
        -webkit-overflow-scrolling: touch;
        flex-wrap: nowrap;
      }

      .calendar-buttons button {
        font-size: 12px;
        padding: 6px 12px;
        min-width: 110px;
        margin-right: 8px;
        border-width: 1.2px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.12);
      }

      .calendar-frame {
        height: calc(100dvh - 120px);
      }
    }

    /* ğŸ“± ã‚¹ãƒãƒ›æ¨ªå‘ãï¼ˆé«˜ã•ãŒä½ã„ã¨ãï¼‰ */
    @media (max-height: 500px) {
      .calendar-buttons button {
        font-size: 11px;
        padding: 5px 10px;
        min-width: 95px;
        margin-right: 6px;
      }

      .calendar-frame {
        height: calc(100dvh - 80px);
      }
    }
  </style>
</head>

<body class="bg-gym">

  <h2>æ–½è¨­ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼</h2>

  <div class="calendar-buttons">
    <button onclick="showCalendar('gym')" id="btn-gym" class="active">ğŸŸ ä½“è‚²é¤¨</button>
    <button onclick="showCalendar('kouminkan')" id="btn-kouminkan">ğŸ« å…¬æ°‘é¤¨</button>
    <button onclick="showCalendar('bekkan')" id="btn-bekkan">ğŸ¢ åˆ¥é¤¨</button>
    <button onclick="showCalendar('all')" id="btn-all">ğŸ“… å…¨ã¦</button>
  </div>

  <!-- ä½“è‚²é¤¨ -->
  <iframe id="cal-gym" class="calendar-frame active"
    src="https://calendar.google.com/calendar/embed?src=c15c3451e52f787202dca97fbd0e35c908d5972611deb534d78c8f6b46262895@group.calendar.google.com&ctz=Asia/Tokyo">
  </iframe>

  <!-- å…¬æ°‘é¤¨ -->
  <iframe id="cal-kouminkan" class="calendar-frame"
    src="https://calendar.google.com/calendar/embed?src=31492fb4b39fef411514fef1378eaf68f176de53432052015b21a14223757e1d@group.calendar.google.com&ctz=Asia/Tokyo">
  </iframe>

  <!-- åˆ¥é¤¨ -->
  <iframe id="cal-bekkan" class="calendar-frame"
    src="https://calendar.google.com/calendar/embed?src=kawaguchi.public.hall.annex@gmail.com&ctz=Asia/Tokyo">
  </iframe>

  <!-- å…¨ã¦ -->
  <iframe id="cal-all" class="calendar-frame"
    src="https://calendar.google.com/calendar/embed?src=c15c3451e52f787202dca97fbd0e35c908d5972611deb534d78c8f6b46262895@group.calendar.google.com&src=31492fb4b39fef411514fef1378eaf68f176de53432052015b21a14223757e1d@group.calendar.google.com&src=kawaguchi.public.hall.annex@gmail.com&ctz=Asia/Tokyo">
  </iframe>

  <script>
    function showCalendar(target) {
      document.querySelectorAll('.calendar-frame').forEach(el =>
        el.classList.remove('active')
      );
      document.getElementById('cal-' + target).classList.add('active');

      document.querySelectorAll('.calendar-buttons button').forEach(el =>
        el.classList.remove('active')
      );
      document.getElementById('btn-' + target).classList.add('active');

      document.body.className = 'bg-' + target;
    }
  </script>

  <!-- PWA Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }
  </script>

</body>
</html>
